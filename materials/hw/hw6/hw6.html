<!DOCTYPE html>
<html>
<head>
    <title>Homework 6 | CS 61B Fall 2019</title>
    <meta charset="UTF-8">

    
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600" rel="stylesheet" type="text/css">
    <link href="../../../assets/css/common.css" rel="stylesheet" type="text/css">
    <link href="../../../assets/css/lab.css" rel="stylesheet" type="text/css">
    <link href="../../../assets/css/highlight/styles/tomorrow.css" rel="stylesheet" type="text/css">
    
    <script src="../../../assets/js/jquery-1.12.4.min.js" type="text/javascript"></script>
    <script src="../../../assets/css/highlight/highlight.pack.js" type="text/javascript"></script> 
    <script src="../../../assets/js/sidebar.js" type="text/javascript"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script type="text/x-mathjax-config">
MathJax.Hub.Config({

    tex2jax: {inlineMath: [["$", "$"]]}
})
   
</script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML-full"></script>
</head>
<body>
    <div class="navbar-top"><div id="navitems">
        <a href="../../../index.html"><div class="navitem">Main</div></a>
        <a href="../../../about.html"><div class="navitem">Course Info</div></a>
        <a href="../../../staff.html"><div class="navitem">Staff</div></a>
        <!--<a href="../../../assign.html"><div class="navitem">Assignments</div></a>-->
        <a href="https://inst.eecs.berkeley.edu/~cs61b/fa19/screencasts" target="_blank"><div class="navitem">Screencasts</div></a>
        <a href="https://inst.eecs.berkeley.edu/~cs61b/fa19/cgi-bin/calnet-auth-scores.cgi" target="_blank"><div class="navitem">Scores</div></a>
        <a href="../../../resources.html"><div class="navitem">Resources</div></a>
        <a href="https://piazza.com/class/jkx2gta66436jq"><div class="navitem">Piazza</div></a>
    </div></div>
    <div id="sidebar">
        <div id="sidebar-content">
            <h3>Navigation</h3>
            <ul>
  <li><a href="#navigation">Navigation</a></li>
  <li><a href="#a-set-of-strings">A. Set of Strings</a></li>
  <li><a href="#b-bststringset-bounded-iterator">B. BSTStringSet Bounded Iterator</a></li>
  <li><a href="#c-echashstringset">C. ECHashStringSet</a></li>
  <li><a href="#d-echashstringset-timing">D. ECHashStringSet Timing</a></li>
</ul>
        </div>
    </div>
    <div id="content-container"><main id="content">
        <header class="title">Homework 6: HW6: BSTs, Ranges, and Hashing</header>
        
<h2 id="navigation">Navigation</h2>


<ul>
  <li><a href="#a-set-of-strings">Set of Strings</a></li>
  <li><a href="#b-bststringset-bounded-iterator">BSTStringSet Bounded Iterator</a></li>
  <li><a href="#c-echashstringset">ECHashStringSet Implementation</a></li>
  <li><a href="#d-echashstringset-timing">ECHashStringSet Timing</a></li>
</ul>


<h2 id="a-set-of-strings">A. Set of Strings</h2>


<p>Complete the implementation of the type <code>BSTStringSet</code>, which implements the
interface <code>StringSet</code>.  As the class name suggests, the intended implementation
uses a binary search tree.  Don't use any of the Java Collection classes in your
BST implementation (you may still use a <code>List</code> implementation to collect items for
the <code>asList</code> method).</p>


<h2 id="b-bststringset-bounded-iterator">B. BSTStringSet Bounded Iterator</h2>


<p>Modify <code>BSTStringSet</code> to implement <code>SortedStringSet</code>, providing an iterator that returns elements 
within a specified range of values in ascending order.  The iterator should produce 
its <em>M</em> values in time <em>O(M + h)</em>, where <em>h</em> is the height of the tree, as described in lecture. 
We've provided the class <code>BSTStringSetRangeTest</code> to help check that your solution works in these time bounds.</p>

<p>The tricky part of this assignment is producing an inorder tree iterator.
We've provided an iterator for a full BST, which you can use as a basis for
your solution.</p>


<h2 id="c-echashstringset">C. ECHashStringSet</h2>


<p>For this problem, you'll expand on your work from earlier by creating a
hashing-based implementation of the <code>StringSet</code> interface.</p>

<p>To implement the interface, you'll be working almost completely
from scratch, with only minimal skeleton code that implements the interface so the code will compile.
This one will be a fair bit more difficult than the <code>BSTStringSet</code>.</p>

<p>Create a class <code>ECHashStringSet</code> (EC as in <em>External Chaining</em>) that implements the <code>StringSet</code> interface
using an external chaining hash table as its core data structure. In
order to ensure that the <code>.put</code> and <code>.contains</code> operations are fast, you should
resize the hash table as soon as the load factor exceeds 5. For memory
efficiency, you should ensure that the load factor is never less than
0.2, except for empty lists, for which the load factor is allowed to
be zero. You do not need to worry about downsizing the set since we
don't have a remove operation. You also do not need to worry about <code>asList</code> returning the keys in sorted order.</p>

<p>There is one annoying issue you'll enounter: If the <code>hashCode()</code> is
negative, we need to remove the top bit (since negative array indices
are not allowed in Java). You can do this using the bit operations we
discussed earlier in class, e.g. <code>s.hashCode() &amp; 0x7fffffff) %
bucketCount</code>.</p>

<p>There's no restriction on what you are allowed to use, but you should
avoid using any library class that has "hash"
in the name, since that would defeat the whole point of this problem.
You <strong>are</strong> allowed to use the <code>hashCode()</code> function for Strings.</p>

<p>For an extra challenge, don't use anything that requires using a Java library
class (except for the <code>asList</code> method).</p>

<p>As references, you might find the following resources useful:</p>

<ul>
  <li>Chapter 7 of DSIJ.</li>
  <li>The <a href="http://algs4.cs.princeton.edu/13stacks/ResizingArrayStack.java.html">Resizing Array-Based Stack</a>, which is part of Princeton's
  standard Java library.</li>
  <li>The <a href="http://en.wikipedia.org/wiki/Hash_table#Separate_chaining_with_linked_lists">Wikipedia article on separate chaining</a>&nbsp;(another term for external chaining).</li>
  <li>If you are getting "unchecked or unsafe operations" errors, you might want to
  look at this <a href="http://stackoverflow.com/questions/217065/cannot-create-an-array-of-linkedlists-in-java">Stack Overflow post</a> on creating arrays of objects that
  expect a formal type parameter. There is no good way to avoid the
  warning, aside from suppressing it.</li>
</ul>

<p>Your correctness tests from the previous part should work almost without
modification (you'll just need to change the type of object that is
instantiated). Make sure to test something that inserts a large number
of strings. One testing approach is to generate random strings, insert
them into both your <code>ECHashStringSet</code> and a
<code>TreeSet&lt;String&gt;</code>, then iterate through the entire
TreeSet and ensure that all of its members are also contained in your
ECHashStringSet and vice-versa.</p>

<p>One solution from a previous semester
(which does use an import for handling the list of items
that go in each bucket) is 66 lines including comments and whitespace.</p>

<p>If you're unsure how to get started, slide 4 from the <a href="http://inst.eecs.berkeley.edu/~cs61b/fa19/materials/lectures/lect24.pdf">Hashing</a> lecture provides a visual of what our hash table will look like. Starting from this visual, try asking yourself:</p>

<ol>
  <li>What data structure do I need to make my buckets? What about the list stored at each bucket?</li>
  <li>How do I know which bucket a given <code>String</code> should be put in?</li>
  <li>Try implementing <code>put</code> and <code>contains</code>. Test that you are able to add to your <code>ECHashStringSet</code> and check if it contains elements.</li>
  <li>Now, aim to satisfy the efficiency requirement with resizing. When do we want to resize the array? How do I resize an array?</li>
</ol>


<h2 id="d-echashstringset-timing">D. ECHashStringSet Timing</h2>


<p>Run the provided timing tests <code>InsertRandomSpeedTest</code> and <code>InsertInOrderSpeedTest</code> for a range of speeds. Fill out <code>hw6timing.txt</code> as directed. Note that <code>hw6timing.txt</code> has the input sizes you should be passing to <code>InsertRandomSpeedTest</code> and <code>InsertInOrderSpeedTest.</code></p>

<p>If you're having timing issues, make sure your hash table is actually resizing.</p>
    </main></div>
</body>
</html>
